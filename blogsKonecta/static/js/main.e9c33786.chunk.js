(this.webpackJsonpblogs=this.webpackJsonpblogs||[]).push([[0],{45:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n.n(c),s=n(19),o=n.n(s),i=(n(45),n(6)),l=(n(46),n(8)),j=n.n(l),b=n(18),u=n(7),d=n(4),x=n.n(d),p=n(9),O=n(16),m=n(13),h=n(82),f=n(79),g=n(80),v=n(81),N=function(){var e=r.a.useState([]),t=Object(i.a)(e,2),n=t[0],s=t[1],o="http://localhost/blog_konecta/",l=Object(c.useState)(!1),b=Object(i.a)(l,2),u=b[0],d=b[1],N=Object(c.useState)(!1),C=Object(i.a)(N,2),y=C[0],k=C[1],w=Object(c.useState)(!1),E=Object(i.a)(w,2),S=E[0],D=E[1],U=Object(c.useState)({id:"",identificacion:"",nombre:"",correo:"",contrasena:"",numeromovil:"",idtipousuario:2,tipousuario:"Usuario"}),I=Object(i.a)(U,2),F=I[0],B=I[1],T=function(e){var t=e.target,n=t.name,a=t.value;B((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(O.a)({},n,a))})),"idtipousuario"==n&&(1==a&&B((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(O.a)({},"tipousuario","Administrador"))})),2==a&&B((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(O.a)({},"tipousuario","Usuario"))}))),console.log(F)},L=function(){d(!u)},A=function(){k(!y)},R=function(){D(!S)},_=function(e,t){B(e),"Editar"===t?A():R()};Object(c.useEffect)((function(){console.log("UseEffect"),q()}),[]);var q=function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("action","listarUsuarios"),e.next=4,j.a.post(o,t).then((function(e){s(e.data.usuarios)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("identificacion",F.identificacion),t.append("nombre",F.nombre),t.append("correo",F.correo),t.append("contrasena",F.contrasena),t.append("numeromovil",F.numeromovil),t.append("idtipousuario",F.idtipousuario),t.append("tipousuario",F.tipousuario),t.append("action","crearUsuario"),e.next=11,j.a.post(o,t).then((function(e){e.data.exito&&(s(e.data.usuarios),L()),alert(e.data.mensaje)})).catch((function(e){console.log(e)}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("id",F.id),t.append("identificacion",F.identificacion),t.append("nombre",F.nombre),t.append("correo",F.correo),t.append("contrasena",null!=F.contrasena?F.contrasena:""),t.append("numeromovil",F.numeromovil),t.append("idtipousuario",F.idtipousuario),t.append("tipousuario",F.tipousuario),t.append("action","editarUsuario"),e.next=12,j.a.post(o,t).then((function(e){if(e.data.exito){var t=e.data.usuarios;t.map((function(e){e.id===F.id&&(e.nombre=F.nombre,e.identificacion=F.identificacion,e.correo=F.correo,e.numeromovil=F.numeromovil,e.idtipousuario=F.idtipousuario,e.tipousuario=F.tipousuario)})),s(t),A()}alert(e.data.mensaje)})).catch((function(e){console.log(e)}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("id",F.id),t.append("action","eliminarUsuario"),e.next=5,j.a.post(o,t,{params:{id:F.id}}).then((function(e){e.data.exito&&(s(e.data.usuarios.filter((function(e){return e.id!==F.id}))),R()),alert(e.data.mensaje)})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Listado de usuarios"}),Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:"Identificacion"}),Object(a.jsx)("th",{scope:"col",children:"Nombre"}),Object(a.jsx)("th",{scope:"col",children:"Correo"}),Object(a.jsx)("th",{scope:"col",children:"Tipo Usuario"}),Object(a.jsx)("th",{scope:"col",children:"Acciones"})]})}),Object(a.jsx)("tbody",{children:n.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.identificacion}),Object(a.jsx)("td",{children:e.nombre}),Object(a.jsx)("td",{children:e.correo}),Object(a.jsx)("td",{children:e.tipousuario}),Object(a.jsxs)("td",{children:[Object(a.jsx)("button",{className:"btn btn-primary",onClick:function(){return _(e,"Editar")},children:"Editar"})," ","  ",Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return _(e,"Eliminar")},children:"Eliminar"})]})]},e.id)}))})]}),Object(a.jsx)("button",{className:"btn btn-success",onClick:function(){return L()},children:"Insertar"}),Object(a.jsxs)(h.a,{isOpen:u,children:[Object(a.jsx)(f.a,{children:"Insertar Usuario"}),Object(a.jsx)(g.a,{children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Identificaci\xf3n:* "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"identificacion",onChange:T}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Nombre:* "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"nombre",onChange:T}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Correo:* "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"correo",onChange:T}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Contrase\xf1a:* "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"password",className:"form-control",name:"contrasena",onChange:T}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"N\xfamero M\xf3vil:* "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"numeromovil",onChange:T}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Tipo usuario:* "}),Object(a.jsx)("br",{}),Object(a.jsxs)("select",{className:"form-select","aria-label":"Default select example",name:"idtipousuario",onChange:T,children:[Object(a.jsx)("option",{value:"1",children:"Administrador"}),Object(a.jsx)("option",{value:"2",selected:!0,children:"Usuario"})]}),Object(a.jsx)("br",{})]})}),Object(a.jsxs)(v.a,{children:[Object(a.jsx)("button",{className:"btn btn-primary",onClick:function(){return M()},children:"Insertar"}),"   ",Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return L()},children:"Cancelar"})]})]}),Object(a.jsxs)(h.a,{isOpen:y,children:[Object(a.jsx)(f.a,{children:"Editar Usuario"}),Object(a.jsx)(g.a,{children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Identificaci\xf3n: "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"identificacion",onChange:T,value:F&&F.identificacion}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Nombre:* "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"nombre",onChange:T,value:F&&F.nombre}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Correo:* "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"correo",onChange:T,value:F&&F.correo}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Contrase\xf1a:* "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"password",className:"form-control",name:"contrasena",onChange:T}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"N\xfamero M\xf3vil:* "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"numeromovil",onChange:T,value:F&&F.numeromovil}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Tipo usuario:* "}),Object(a.jsx)("br",{}),Object(a.jsxs)("select",{className:"form-select","aria-label":"Default select example",name:"idtipousuario",onChange:T,value:F&&F.idtipousuario,children:[Object(a.jsx)("option",{value:"1",children:"Administrador"}),Object(a.jsx)("option",{value:"2",children:"Usuario"})]}),Object(a.jsx)("br",{})]})}),Object(a.jsxs)(v.a,{children:[Object(a.jsx)("button",{className:"btn btn-primary",onClick:function(){return G()},children:"Editar"}),"   ",Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return A()},children:"Cancelar"})]})]}),Object(a.jsxs)(h.a,{isOpen:S,children:[Object(a.jsxs)(g.a,{children:["\xbfEst\xe1s seguro que deseas eliminar el usuario ",F&&F.nombre,"?"]}),Object(a.jsxs)(v.a,{children:[Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return J()},children:"S\xed"}),Object(a.jsx)("button",{className:"btn btn-secondary",onClick:function(){return R()},children:"No"})]})]})]})},C=function(){var e=r.a.useState([]),t=Object(i.a)(e,2),n=t[0],s=t[1],o=r.a.useState([]),l=Object(i.a)(o,2),u=l[0],d=l[1],N="http://localhost/blog_konecta/",C=Object(c.useState)(!1),y=Object(i.a)(C,2),k=y[0],w=y[1],E=Object(c.useState)(!1),S=Object(i.a)(E,2),D=S[0],U=S[1],I=Object(c.useState)(!1),F=Object(i.a)(I,2),B=F[0],T=F[1],L=Object(c.useState)({id:"",titulo:"",slug:"",textocorto:"",textolargo:"",rutaimagen:"",idcategorias:[],categorias:""}),A=Object(i.a)(L,2),R=A[0],_=A[1],q=function(e){var t=e.target,n=t.name,a=t.value,c="";u.forEach((function(e){e.id==a&&(c=e.nombre)})),_("idcategorias"==n?function(e){var t;return Object(m.a)(Object(m.a)({},e),{},(t={},Object(O.a)(t,n,a),Object(O.a)(t,"categorias",c),t))}:function(e){return Object(m.a)(Object(m.a)({},e),{},Object(O.a)({},n,a))}),console.log(R)},M=function(){w(!k)},G=function(){U(!D)},J=function(){T(!B)},K=function(e,t){_(e),console.log(e),"Editar"===t?G():J()};Object(c.useEffect)((function(){V(),z()}),[]);var V=function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("action","listarBlogs"),e.next=4,j.a.post(N,t).then((function(e){s(e.data.blogs)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("action","listarCategorias"),e.next=4,j.a.post(N,t).then((function(e){d(e.data.categorias)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("titulo",R.titulo),t.append("slug",R.slug),t.append("textocorto",R.textocorto),t.append("textolargo",R.textolargo),t.append("rutaimagen",R.rutaimagen),t.append("idcategorias",R.idcategorias),t.append("categorias",R.categorias),t.append("action","crearBlog"),e.next=11,j.a.post(N,t).then((function(e){e.data.exito&&(s(e.data.blogs),M()),alert(e.data.mensaje)})).catch((function(e){console.log(e)}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("id",R.id),t.append("titulo",R.titulo),t.append("slug",R.slug),t.append("textocorto",R.textocorto),t.append("textolargo",R.textolargo),t.append("rutaimagen",R.rutaimagen),t.append("idcategorias",R.idcategorias),t.append("categorias",R.categorias),t.append("action","editarBlog"),e.next=12,j.a.post(N,t).then((function(e){if(e.data.exito){var t=e.data.blogs;t.map((function(e){e.id===R.id&&(e.titulo=R.titulo,e.slug=R.slug,e.textocorto=R.textocorto,e.textolargo=R.textolargo,e.rutaimagen=R.rutaimagen,e.categorias=R.categorias)})),s(t),G()}alert(e.data.mensaje)})).catch((function(e){console.log(e)}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("id",R.id),t.append("action","eliminarBlog"),e.next=5,j.a.post(N,t,{params:{id:R.id}}).then((function(e){e.data.exito&&(s(e.data.blogs.filter((function(e){return e.id!==R.id}))),J()),alert(e.data.mensaje)})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"Container",children:[Object(a.jsx)("h2",{children:"Listado de Blogs"}),n.map((function(e){return Object(a.jsx)("div",{className:"card mb-3",children:Object(a.jsxs)("div",{className:"row g-0",children:[Object(a.jsx)("div",{className:"col-md-2 bg-dark",children:Object(a.jsx)("img",{className:"img-thumbnai"})}),Object(a.jsxs)("div",{className:"col-md-8",children:[Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"card-title",children:e.titulo}),Object(a.jsx)("p",{className:"card-text",children:e.textocorto}),Object(a.jsx)("p",{className:"card-text",children:Object(a.jsx)("small",{className:"text-muted",children:e.categorias})})]}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)(b.b,{className:"btn btn-secondary",to:"/blogs/".concat(e.id,"/").concat(e.slug),children:"Leer m\xe1s..."}),"  ",Object(a.jsx)("button",{className:"btn btn-primary",onClick:function(){return K(e,"Editar")},children:"Editar"})," ","  ",Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return K(e,"Eliminar")},children:"Eliminar"})]})]})]})},e.id)})),Object(a.jsx)("button",{className:"btn btn-success",onClick:function(){return M()},children:"Insertar"}),Object(a.jsxs)(h.a,{isOpen:k,children:[Object(a.jsx)(f.a,{children:"Insertar Blog"}),Object(a.jsx)(g.a,{children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"T\xedtulo:* "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"titulo",onChange:q}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Texto corto:* "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"textocorto",onChange:q}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Texto largo:* "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"textolargo",rows:"3",onChange:q}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"URL Amigable (SLUG):* "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"slug",onChange:q}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Ruta Imagen: "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"rutaimagen",onChange:q}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Categor\xedas:* "}),Object(a.jsx)("br",{}),Object(a.jsxs)("select",{className:"form-select","aria-label":"Default select example",name:"idcategorias",onChange:q,children:[Object(a.jsx)("option",{value:"0",selected:!0,children:" Seleccione una opci\xf3n"},"0"),u.map((function(e){return Object(a.jsx)("option",{id:e.id,value:e.id,children:e.nombre},e.id)}))]}),Object(a.jsx)("br",{})]})}),Object(a.jsxs)(v.a,{children:[Object(a.jsx)("button",{className:"btn btn-primary",onClick:function(){return H()},children:"Insertar"}),"   ",Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return M()},children:"Cancelar"})]})]}),Object(a.jsxs)(h.a,{isOpen:D,children:[Object(a.jsx)(f.a,{children:"Editar Blog"}),Object(a.jsx)(g.a,{children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"T\xedtulo:* "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"titulo",onChange:q,value:R&&R.titulo}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Texto corto:* "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"textocorto",onChange:q,value:R&&R.textocorto}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Texto largo:* "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"textolargo",rows:"3",onChange:q,value:R&&R.textolargo}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"URL Amigable (SLUG):* "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"slug",onChange:q,value:R&&R.slug}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Ruta Imagen: "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"rutaimagen",onChange:q,value:R&&R.rutaimagen}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Categor\xedas:* "}),Object(a.jsx)("br",{}),Object(a.jsxs)("select",{className:"form-select","aria-label":"Default select example",name:"idcategorias",onChange:q,value:R&&R.idcategorias,children:[Object(a.jsx)("option",{children:" Seleccione una opci\xf3n"}),u.map((function(e){return Object(a.jsx)("option",{id:e.id,value:e.id,children:e.nombre},e.id)}))]}),Object(a.jsx)("br",{})]})}),Object(a.jsxs)(v.a,{children:[Object(a.jsx)("button",{className:"btn btn-primary",onClick:function(){return P()},children:"Editar"}),"   ",Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return G()},children:"Cancelar"})]})]}),Object(a.jsxs)(h.a,{isOpen:B,children:[Object(a.jsxs)(g.a,{children:["\xbfEst\xe1s seguro que deseas eliminar el blog ",R&&R.titulo,"?"]}),Object(a.jsxs)(v.a,{children:[Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return Q()},children:"S\xed"}),Object(a.jsx)("button",{className:"btn btn-secondary",onClick:function(){return J()},children:"No"})]})]})]})},y=function(){var e=r.a.useState([]),t=Object(i.a)(e,2),n=t[0],s=t[1],o="http://localhost/blog_konecta/",l=Object(c.useState)(!1),b=Object(i.a)(l,2),u=b[0],d=b[1],N=Object(c.useState)(!1),C=Object(i.a)(N,2),y=C[0],k=C[1],w=Object(c.useState)(!1),E=Object(i.a)(w,2),S=E[0],D=E[1],U=Object(c.useState)({id:"",nombre:"",descripcion:""}),I=Object(i.a)(U,2),F=I[0],B=I[1],T=function(e){var t=e.target,n=t.name,a=t.value;B((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(O.a)({},n,a))})),console.log(F)},L=function(){d(!u)},A=function(){k(!y)},R=function(){D(!S)},_=function(e,t){B(e),"Editar"===t?A():R()};Object(c.useEffect)((function(){console.log("UseEffect"),q()}),[]);var q=function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("action","listarCategorias"),e.next=4,j.a.post(o,t).then((function(e){s(e.data.categorias)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("nombre",F.nombre),t.append("descripcion",F.descripcion),t.append("action","crearCategoria"),e.next=6,j.a.post(o,t).then((function(e){e.data.exito&&(s(e.data.categorias),L()),alert(e.data.mensaje)})).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("id",F.id),t.append("nombre",F.nombre),t.append("descripcion",F.descripcion),t.append("action","editarCategoria"),e.next=7,j.a.post(o,t).then((function(e){if(e.data.exito){var t=e.data.categorias;t.map((function(e){e.id===F.id&&(e.nombre=F.nombre,e.descripcion=F.descripcion)})),s(t),A()}alert(e.data.mensaje)})).catch((function(e){console.log(e)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("id",F.id),t.append("action","eliminarCategoria"),e.next=5,j.a.post(o,t,{params:{id:F.id}}).then((function(e){e.data.exito&&(s(e.data.categorias.filter((function(e){return e.id!==F.id}))),R()),alert(e.data.mensaje)})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Listado de categorias"}),Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:"Nombre"}),Object(a.jsx)("th",{scope:"col",children:"Descripcion"}),Object(a.jsx)("th",{scope:"col",children:"Acciones"})]})}),Object(a.jsx)("tbody",{children:n.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.nombre}),Object(a.jsx)("td",{children:e.descripcion}),Object(a.jsxs)("td",{children:[Object(a.jsx)("button",{className:"btn btn-primary",onClick:function(){return _(e,"Editar")},children:"Editar"})," ","  ",Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return _(e,"Eliminar")},children:"Eliminar"})]})]},e.id)}))})]}),Object(a.jsx)("button",{className:"btn btn-success",onClick:function(){return L()},children:"Insertar"}),Object(a.jsxs)(h.a,{isOpen:u,children:[Object(a.jsx)(f.a,{children:"Insertar Categor\xeda"}),Object(a.jsx)(g.a,{children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Nombre:* "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"nombre",onChange:T}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Descripci\xf3n:* "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"descripcion",onChange:T}),Object(a.jsx)("br",{})]})}),Object(a.jsxs)(v.a,{children:[Object(a.jsx)("button",{className:"btn btn-primary",onClick:function(){return M()},children:"Insertar"}),"   ",Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return L()},children:"Cancelar"})]})]}),Object(a.jsxs)(h.a,{isOpen:y,children:[Object(a.jsx)(f.a,{children:"Editar Categor\xeda"}),Object(a.jsx)(g.a,{children:Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Nombre:* "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"nombre",onChange:T,value:F&&F.nombre}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"Descripci\xf3n:* "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",className:"form-control",name:"descripcion",onChange:T,value:F&&F.descripcion}),Object(a.jsx)("br",{})]})}),Object(a.jsxs)(v.a,{children:[Object(a.jsx)("button",{className:"btn btn-primary",onClick:function(){return G()},children:"Editar"}),"   ",Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return A()},children:"Cancelar"})]})]}),Object(a.jsxs)(h.a,{isOpen:S,children:[Object(a.jsxs)(g.a,{children:["\xbfEst\xe1s seguro que deseas eliminar la categor\xeda ",F&&F.nombre,"?"]}),Object(a.jsxs)(v.a,{children:[Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return J()},children:"S\xed"}),Object(a.jsx)("button",{className:"btn btn-secondary",onClick:function(){return R()},children:"No"})]})]})]})},k=function(){var e=Object(u.f)().id,t=r.a.useState([]),n=Object(i.a)(t,2),s=n[0],o=n[1],l=r.a.useState([]),d=Object(i.a)(l,2),O=d[0],m=d[1],h=r.a.useState([]),f=Object(i.a)(h,2),g=(f[0],f[1]),v=r.a.useState([]),N=Object(i.a)(v,2),C=N[0],y=N[1];Object(c.useEffect)((function(){console.log("UseEffect"),k()}),[]);var k=function(){var t=Object(p.a)(x.a.mark((function t(){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("id",e),n.append("action","verBlog"),t.next=5,j.a.post("http://localhost/blog_konecta/",n).then((function(e){if(e.data.exito){o(e.data.blog),g(e.data.categorias),m(e.data.blogs.filter((function(t){return t.id!==e.data.blog.id})));var t="";e.data.categorias.forEach((function(n){e.data.blog.idcategorias.forEach((function(e){e==n.id&&(t+=n.nombre+" ")}))})),y(t)}else alert(e.data.mensaje)})).catch((function(e){console.log(e)}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"Container",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-sm-8",children:Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("img",{className:"card-img-top"}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h2",{className:"card-title",children:s.titulo}),Object(a.jsx)("h5",{className:"card-title",children:C}),Object(a.jsx)("p",{className:"card-text",children:s.textocorto}),Object(a.jsx)("p",{className:"card-text",children:s.textolargo})]})]})}),Object(a.jsx)("div",{className:"col-sm-4",children:Object(a.jsx)("div",{className:"card",children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"card-title",children:"Otros blogs"}),Object(a.jsx)("ul",{className:"list-group",children:O.map((function(e){return Object(a.jsx)("li",{className:"list-group-item",children:Object(a.jsx)("a",{href:"/blogs/".concat(e.id,"/").concat(e.slug),className:"card-link",children:e.slug})},e.id)}))})]})})})]}),Object(a.jsx)(b.b,{className:"btn btn-success",to:"/blogs/",children:"Volver"})]})};var w=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2);return t[0],t[1],Object(a.jsx)(b.a,{children:Object(a.jsxs)("div",{className:"container mt-5",children:[Object(a.jsx)("h1",{children:"Blogs Konecta"}),Object(a.jsxs)("div",{className:"btn-group",children:[Object(a.jsx)(b.c,{to:"/",className:"btn btn-dark",children:"Inicio"}),Object(a.jsx)(b.c,{to:"/usuarios",className:"btn btn-dark",children:"Usuarios"}),Object(a.jsx)(b.c,{to:"/blogs",className:"btn btn-dark",children:"Blogs"}),Object(a.jsx)(b.c,{to:"/categorias",className:"btn btn-dark",children:"Categorias"})]}),Object(a.jsx)("hr",{}),Object(a.jsxs)(u.c,{children:[Object(a.jsx)(u.a,{path:"/blogs/:id/:slug",children:Object(a.jsx)(k,{})}),Object(a.jsx)(u.a,{path:"/usuarios",children:Object(a.jsx)(N,{})}),Object(a.jsx)(u.a,{path:"/blogs",children:Object(a.jsx)(C,{})}),Object(a.jsx)(u.a,{path:"/categorias",children:Object(a.jsx)(y,{})}),Object(a.jsx)(u.a,{path:"/",children:Object(a.jsx)(C,{})})]})]})})};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(w,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.e9c33786.chunk.js.map