[{"C:\\xampp\\htdocs\\frontends\\blogs\\src\\index.js":"1","C:\\xampp\\htdocs\\frontends\\blogs\\src\\reportWebVitals.js":"2","C:\\xampp\\htdocs\\frontends\\blogs\\src\\App.js":"3","C:\\xampp\\htdocs\\frontends\\blogs\\src\\components\\ListaUsuarios.js":"4","C:\\xampp\\htdocs\\frontends\\blogs\\src\\components\\CrearUsuario.js":"5","C:\\xampp\\htdocs\\frontends\\blogs\\src\\components\\EditarUsuario.js":"6","C:\\xampp\\htdocs\\frontends\\blogs\\src\\components\\Home.js":"7"},{"size":220,"mtime":1611708920009,"results":"8","hashOfConfig":"9"},{"size":362,"mtime":499162500000,"results":"10","hashOfConfig":"9"},{"size":1815,"mtime":1611717289423,"results":"11","hashOfConfig":"9"},{"size":11424,"mtime":1611723444642,"results":"12","hashOfConfig":"9"},{"size":181,"mtime":1611710599767,"results":"13","hashOfConfig":"9"},{"size":184,"mtime":1611710851554,"results":"14","hashOfConfig":"9"},{"size":156,"mtime":1611710862377,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"10ztx8x",{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"23","messages":"24","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":2,"source":"25"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\xampp\\htdocs\\frontends\\blogs\\src\\index.js",[],"C:\\xampp\\htdocs\\frontends\\blogs\\src\\reportWebVitals.js",[],["33","34"],"C:\\xampp\\htdocs\\frontends\\blogs\\src\\App.js",["35","36","37","38","39","40","41","42","43","44"],"C:\\xampp\\htdocs\\frontends\\blogs\\src\\components\\ListaUsuarios.js",["45","46","47","48","49","50"],"import React, {useState, useEffect} from 'react'\r\nimport {Modal, ModalBody, ModalFooter, ModalHeader} from 'reactstrap';\r\nimport axios from 'axios';\r\n\r\nconst ListaUsuarios = () => {\r\n\r\n    const [data, setData] = React.useState([]);\r\n    const baseUrl=\"http://localhost/blog_konecta/\";\r\n    const [modalInsertar, setModalInsertar]= useState(false);\r\n    const [modalEditar, setModalEditar]= useState(false);\r\n    const [modalEliminar, setModalEliminar]= useState(false);\r\n    const [usuarioSeleccionado, setusuarioSeleccionado]=useState({\r\n        id: '',\r\n        identificacion:'',\r\n        nombre: '',\r\n        correo: '',\r\n        contrasena: '',\r\n        numeromovil:'',\r\n        idtipousuario: 2,\r\n        tipousuario:'Usuario'\r\n    });\r\n    \r\n    const handleChange=e=>{\r\n        const {name, value}=e.target;\r\n        setusuarioSeleccionado((prevState)=>({\r\n            ...prevState,\r\n            [name]: value\r\n        }))\r\n        if(name == 'idtipousuario'){\r\n            if (value == 1){\r\n                setusuarioSeleccionado((prevState)=>({\r\n                    ...prevState,\r\n                    ['tipousuario']: 'Administrador'\r\n                }))\r\n            }\r\n            if (value == 2){\r\n                setusuarioSeleccionado((prevState)=>({\r\n                    ...prevState,\r\n                    ['tipousuario']: 'Usuario'\r\n                }))\r\n            }\r\n        }\r\n        console.log(usuarioSeleccionado);\r\n    }\r\n    \r\n    const abrirCerrarModalInsertar=()=>{\r\n        setModalInsertar(!modalInsertar);\r\n    }\r\n    \r\n    const abrirCerrarModalEditar=()=>{\r\n        setModalEditar(!modalEditar);\r\n    }\r\n    \r\n    const abrirCerrarModalEliminar=()=>{\r\n        setModalEliminar(!modalEliminar);\r\n    }\r\n\r\n    const seleccionarUsuario=(usuario, caso)=>{\r\n        setusuarioSeleccionado(usuario);\r\n    \r\n        (caso===\"Editar\")?\r\n        abrirCerrarModalEditar():\r\n        abrirCerrarModalEliminar()\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log('UseEffect')\r\n        listarUsuarios()\r\n    }, [])\r\n\r\n    //Listado de usuarios via API\r\n    const listarUsuarios=async()=>{\r\n        await axios.get(baseUrl, {\r\n            \"action\":\"listarUsuarios\"\r\n        })\r\n        .then(response=>{\r\n          setData(response.data.usuarios);\r\n        }).catch(error=>{\r\n          console.log(error);\r\n        })\r\n    }\r\n\r\n    //Crear\r\n    const crearUsuario=async()=>{\r\n        var f = new FormData();\r\n        f.append(\"identificacion\", usuarioSeleccionado.identificacion);\r\n        f.append(\"nombre\", usuarioSeleccionado.nombre);\r\n        f.append(\"correo\", usuarioSeleccionado.correo);\r\n        f.append(\"contrasena\", usuarioSeleccionado.contrasena);\r\n        f.append(\"numeromovil\", usuarioSeleccionado.numeromovil);\r\n        f.append(\"idtipousuario\", usuarioSeleccionado.idtipousuario);\r\n        f.append(\"tipousuario\", usuarioSeleccionado.tipousuario);\r\n        f.append(\"action\", \"crearUsuario\");\r\n        await axios.post(baseUrl, f)\r\n        .then(response=>{\r\n            console.log(response.data);\r\n            setData(data.concat(usuarioSeleccionado));\r\n            abrirCerrarModalInsertar();\r\n        }).catch(error=>{\r\n            console.log(error);\r\n        })\r\n      }\r\n      \r\n      //Editar\r\n      const editarUsuario=async()=>{\r\n        var f = new FormData();\r\n        f.append(\"id\", usuarioSeleccionado.id);\r\n        f.append(\"identificacion\", usuarioSeleccionado.identificacion);\r\n        f.append(\"nombre\", usuarioSeleccionado.nombre);\r\n        f.append(\"correo\", usuarioSeleccionado.correo);\r\n        f.append(\"contrasena\", usuarioSeleccionado.contrasena);\r\n        f.append(\"numeromovil\", usuarioSeleccionado.numeromovil);\r\n        f.append(\"idtipousuario\", usuarioSeleccionado.idtipousuario);\r\n        f.append(\"tipousuario\", usuarioSeleccionado.idtipousuario.value);\r\n        f.append(\"action\", \"editarUsuario\");\r\n        await axios.post(baseUrl, f)\r\n        .then(response=>{\r\n          var dataNueva= response.data.usuarios;\r\n          dataNueva.map(usuario=>{\r\n            if(usuario.id===usuarioSeleccionado.id){\r\n              usuario.nombre=usuarioSeleccionado.nombre;\r\n              usuario.identificacion=usuarioSeleccionado.identificacion;\r\n              usuario.correo=usuarioSeleccionado.correo;\r\n              usuario.numeromovil=usuarioSeleccionado.numeromovil;\r\n              usuario.idtipousuario=usuarioSeleccionado.idtipousuario;\r\n              usuario.tipousuario=usuarioSeleccionado.tipousuario;\r\n            }\r\n          });\r\n          setData(dataNueva);\r\n          abrirCerrarModalEditar();\r\n        }).catch(error=>{\r\n          console.log(error);\r\n        })\r\n      }\r\n      \r\n      //Eliminar\r\n      const eliminarUsuario=async()=>{\r\n        var f = new FormData();\r\n        f.append(\"id\", usuarioSeleccionado.id);\r\n        f.append(\"action\", \"eliminarUsuario\");\r\n        await axios.post(baseUrl, f, {params: {id: usuarioSeleccionado.id}})\r\n        .then(response=>{\r\n          setData(response.data.usuarios.filter(usuario=>usuario.id!==usuarioSeleccionado.id));\r\n          abrirCerrarModalEliminar();\r\n        }).catch(error=>{\r\n          console.log(error);\r\n        })\r\n      }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Listado de usuarios</h2>\r\n            <table className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                    <th scope=\"col\">Identificacion</th>\r\n                    <th scope=\"col\">Nombre</th>\r\n                    <th scope=\"col\">Correo</th>\r\n                    <th scope=\"col\">Tipo Usuario</th>\r\n                    <th scope=\"col\">Acciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {data.map(usuario=>(\r\n                        <tr key={usuario.id}>\r\n                            <td>{usuario.identificacion}</td>\r\n                            <td>{usuario.nombre}</td>\r\n                            <td>{usuario.correo}</td>\r\n                            <td>{usuario.tipousuario}</td>\r\n                            <td>\r\n                                <button className=\"btn btn-primary\" onClick={()=>seleccionarUsuario(usuario, \"Editar\")}>Editar</button> {\"  \"}\r\n                                <button className=\"btn btn-danger\" onClick={()=>seleccionarUsuario(usuario, \"Eliminar\")}>Eliminar</button>\r\n                            </td>\r\n                        </tr>    \r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n\r\n            <button className=\"btn btn-success\" onClick={()=>abrirCerrarModalInsertar()}>Insertar</button>\r\n\r\n            <Modal isOpen={modalInsertar}>\r\n            <ModalHeader>Insertar Usuario</ModalHeader>\r\n            <ModalBody>\r\n                <div className=\"form-group\">\r\n                <label>Identificación: </label>\r\n                <br />\r\n                <input type=\"text\" className=\"form-control\" name=\"identificacion\" onChange={handleChange}/>\r\n                <br />\r\n                <label>Nombre: </label>\r\n                <br />\r\n                <input type=\"text\" className=\"form-control\" name=\"nombre\" onChange={handleChange}/>\r\n                <br />\r\n                <label>Correo: </label>\r\n                <br />\r\n                <input type=\"text\" className=\"form-control\" name=\"correo\" onChange={handleChange}/>\r\n                <br />\r\n                <label>Contraseña: </label>\r\n                <br />\r\n                <input type=\"password\" className=\"form-control\" name=\"contrasena\" onChange={handleChange}/>\r\n                <br />\r\n                <label>Número Móvil: </label>\r\n                <br />\r\n                <input type=\"text\" className=\"form-control\" name=\"numeromovil\" onChange={handleChange}/>\r\n                <br />\r\n                <label>Tipo usuario: </label>\r\n                <br />\r\n                <select className=\"form-select\" aria-label=\"Default select example\" name=\"idtipousuario\" onChange={handleChange}>\r\n                    <option value=\"1\">Administrador</option>\r\n                    <option value=\"2\" selected>Usuario</option>\r\n                </select>\r\n                <br />\r\n                </div>\r\n            </ModalBody>\r\n            <ModalFooter>\r\n                <button className=\"btn btn-primary\" onClick={()=>crearUsuario()}>Insertar</button>{\"   \"}\r\n                <button className=\"btn btn-danger\" onClick={()=>abrirCerrarModalInsertar()}>Cancelar</button>\r\n            </ModalFooter>\r\n            </Modal>\r\n\r\n\r\n            \r\n            <Modal isOpen={modalEditar}>\r\n            <ModalHeader>Editar Usuario</ModalHeader>\r\n            <ModalBody>\r\n            <div className=\"form-group\">\r\n                <label>Identificación: </label>\r\n                <br />\r\n                <input type=\"text\" className=\"form-control\" name=\"identificacion\" onChange={handleChange} value={usuarioSeleccionado && usuarioSeleccionado.identificacion}/>\r\n                <br />\r\n                <label>Nombre: </label>\r\n                <br />\r\n                <input type=\"text\" className=\"form-control\" name=\"nombre\" onChange={handleChange} value={usuarioSeleccionado && usuarioSeleccionado.nombre}/>\r\n                <br />\r\n                <label>Correo: </label>\r\n                <br />\r\n                <input type=\"text\" className=\"form-control\" name=\"correo\" onChange={handleChange} value={usuarioSeleccionado && usuarioSeleccionado.correo}/>\r\n                <br />\r\n                <label>Contraseña: </label>\r\n                <br />\r\n                <input type=\"password\" className=\"form-control\" name=\"contrasena\" onChange={handleChange} value={usuarioSeleccionado && usuarioSeleccionado.contrasena}/>\r\n                <br />\r\n                <label>Número Móvil: </label>\r\n                <br />\r\n                <input type=\"text\" className=\"form-control\" name=\"numeromovil\" onChange={handleChange} value={usuarioSeleccionado && usuarioSeleccionado.numeromovil}/>\r\n                <br />\r\n                <label>Tipo usuario: </label>\r\n                <br />\r\n                <select className=\"form-select\" aria-label=\"Default select example\" name=\"idtipousuario\" onChange={handleChange} value={usuarioSeleccionado && usuarioSeleccionado.idtipousuario}>\r\n                    <option value=\"1\">Administrador</option>\r\n                    <option value=\"2\">Usuario</option>\r\n                </select>\r\n                <br />\r\n                </div>\r\n            </ModalBody>\r\n            <ModalFooter>\r\n                <button className=\"btn btn-primary\" onClick={()=>editarUsuario()}>Editar</button>{\"   \"}\r\n                <button className=\"btn btn-danger\" onClick={()=>abrirCerrarModalEditar()}>Cancelar</button>\r\n            </ModalFooter>\r\n            </Modal>\r\n\r\n            <Modal isOpen={modalEliminar}>\r\n                <ModalBody>\r\n                ¿Estás seguro que deseas eliminar el usuario {usuarioSeleccionado && usuarioSeleccionado.nombre}?\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                <button className=\"btn btn-danger\" onClick={()=>eliminarUsuario()}>\r\n                    Sí\r\n                </button>\r\n                <button\r\n                    className=\"btn btn-secondary\"\r\n                    onClick={()=>abrirCerrarModalEliminar()}\r\n                >\r\n                    No\r\n                </button>\r\n                </ModalFooter>\r\n            </Modal>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default ListaUsuarios","C:\\xampp\\htdocs\\frontends\\blogs\\src\\components\\CrearUsuario.js",[],["51","52"],"C:\\xampp\\htdocs\\frontends\\blogs\\src\\components\\EditarUsuario.js",[],"C:\\xampp\\htdocs\\frontends\\blogs\\src\\components\\Home.js",[],{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","replacedBy":"56"},{"ruleId":"57","severity":1,"message":"58","line":1,"column":26,"nodeType":"59","messageId":"60","endLine":1,"endColumn":35},{"ruleId":"57","severity":1,"message":"61","line":3,"column":9,"nodeType":"59","messageId":"60","endLine":3,"endColumn":14},{"ruleId":"57","severity":1,"message":"62","line":3,"column":16,"nodeType":"59","messageId":"60","endLine":3,"endColumn":25},{"ruleId":"57","severity":1,"message":"63","line":3,"column":27,"nodeType":"59","messageId":"60","endLine":3,"endColumn":38},{"ruleId":"57","severity":1,"message":"64","line":3,"column":40,"nodeType":"59","messageId":"60","endLine":3,"endColumn":51},{"ruleId":"57","severity":1,"message":"65","line":4,"column":8,"nodeType":"59","messageId":"60","endLine":4,"endColumn":13},{"ruleId":"57","severity":1,"message":"66","line":10,"column":3,"nodeType":"59","messageId":"60","endLine":10,"endColumn":7},{"ruleId":"57","severity":1,"message":"67","line":19,"column":9,"nodeType":"59","messageId":"60","endLine":19,"endColumn":16},{"ruleId":"57","severity":1,"message":"68","line":20,"column":10,"nodeType":"59","messageId":"60","endLine":20,"endColumn":14},{"ruleId":"57","severity":1,"message":"69","line":20,"column":16,"nodeType":"59","messageId":"60","endLine":20,"endColumn":23},{"ruleId":"70","severity":1,"message":"71","line":29,"column":17,"nodeType":"72","messageId":"73","endLine":29,"endColumn":19},{"ruleId":"70","severity":1,"message":"71","line":30,"column":23,"nodeType":"72","messageId":"73","endLine":30,"endColumn":25},{"ruleId":"74","severity":1,"message":"75","line":33,"column":21,"nodeType":"76","messageId":"77","endLine":33,"endColumn":53,"fix":"78"},{"ruleId":"70","severity":1,"message":"71","line":36,"column":23,"nodeType":"72","messageId":"73","endLine":36,"endColumn":25},{"ruleId":"74","severity":1,"message":"75","line":39,"column":21,"nodeType":"76","messageId":"77","endLine":39,"endColumn":47,"fix":"79"},{"ruleId":"80","severity":1,"message":"81","line":119,"column":32,"nodeType":"82","messageId":"83","endLine":119,"endColumn":34},{"ruleId":"53","replacedBy":"84"},{"ruleId":"55","replacedBy":"85"},"no-native-reassign",["86"],"no-negated-in-lhs",["87"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'Modal' is defined but never used.","'ModalBody' is defined but never used.","'ModalFooter' is defined but never used.","'ModalHeader' is defined but never used.","'axios' is defined but never used.","'Link' is defined but never used.","'baseUrl' is assigned a value but never used.","'data' is assigned a value but never used.","'setData' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-useless-computed-key","Unnecessarily computed property ['tipousuario'] found.","Property","unnecessarilyComputedProperty",{"range":"88","text":"89"},{"range":"90","text":"89"},"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside",["86"],["87"],"no-global-assign","no-unsafe-negation",[1112,1127],"'tipousuario'",[1323,1338]]